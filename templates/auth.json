{
  "featureName": "User Authentication System",
  "branchName": "feature/auth",
  "description": "Authentication with registration, login, and session management",
  "tasks": [
    {
      "id": "US-001",
      "title": "Create User model with password hashing",
      "description": "Define User data structure with secure password storage",
      "acceptanceCriteria": [
        "User model with email/username, password hash, timestamps",
        "Password hashing using bcrypt or argon2",
        "Email/username uniqueness enforced",
        "Password never stored in plain text"
      ],
      "dependsOn": [],
      "complexity": "senior",
      "passes": false
    },
    {
      "id": "US-002",
      "title": "Add user registration endpoint",
      "description": "POST /auth/register for new user signup",
      "acceptanceCriteria": [
        "POST /auth/register creates new user",
        "Email/username validated for format and uniqueness",
        "Password strength requirements enforced",
        "Returns 201 on success, 400 on validation error, 409 on duplicate"
      ],
      "dependsOn": ["US-001"],
      "complexity": "junior",
      "passes": false
    },
    {
      "id": "US-003",
      "title": "Add login endpoint with JWT tokens",
      "description": "POST /auth/login for authentication",
      "acceptanceCriteria": [
        "POST /auth/login validates credentials",
        "Returns JWT access token on success",
        "Returns refresh token (in cookie or body)",
        "Returns 401 on invalid credentials",
        "Rate limiting to prevent brute force"
      ],
      "dependsOn": ["US-001"],
      "complexity": "senior",
      "passes": false
    },
    {
      "id": "US-004",
      "title": "Add authentication middleware",
      "description": "Middleware to verify JWT tokens on protected routes",
      "acceptanceCriteria": [
        "Middleware extracts and validates JWT from Authorization header",
        "Attaches user info to request context",
        "Returns 401 for missing/invalid/expired tokens",
        "Easy to apply to protected routes"
      ],
      "dependsOn": ["US-003"],
      "complexity": "senior",
      "passes": false
    },
    {
      "id": "US-005",
      "title": "Add token refresh endpoint",
      "description": "POST /auth/refresh to get new access token",
      "acceptanceCriteria": [
        "POST /auth/refresh accepts refresh token",
        "Returns new access token if refresh token valid",
        "Returns 401 if refresh token invalid/expired",
        "Optionally rotates refresh token"
      ],
      "dependsOn": ["US-003"],
      "complexity": "junior",
      "passes": false
    },
    {
      "id": "US-006",
      "title": "Add logout endpoint",
      "description": "POST /auth/logout to invalidate session",
      "acceptanceCriteria": [
        "POST /auth/logout invalidates refresh token",
        "Clears auth cookies if used",
        "Returns 200 on success"
      ],
      "dependsOn": ["US-003"],
      "complexity": "junior",
      "passes": false
    },
    {
      "id": "US-007",
      "title": "Add GET /auth/me endpoint",
      "description": "Return current user profile",
      "acceptanceCriteria": [
        "GET /auth/me returns current user (requires auth)",
        "Does not expose password hash",
        "Returns 401 if not authenticated"
      ],
      "dependsOn": ["US-004"],
      "complexity": "junior",
      "passes": false
    },
    {
      "id": "US-008",
      "title": "Add authentication tests",
      "description": "Comprehensive tests for auth flows",
      "acceptanceCriteria": [
        "Tests for registration (success, duplicate, validation)",
        "Tests for login (success, wrong password, unknown user)",
        "Tests for protected routes (valid token, invalid token, expired)",
        "Tests for token refresh flow"
      ],
      "verification": [
        {"type": "integration", "cmd": "npm test 2>/dev/null || go test ./... 2>/dev/null || pytest 2>/dev/null || echo 'Configure test command'"}
      ],
      "dependsOn": ["US-002", "US-003", "US-004", "US-005", "US-006", "US-007"],
      "complexity": "junior",
      "passes": false
    }
  ]
}
